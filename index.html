<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tambola 3.0.0</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
* { box-sizing: border-box; }

body {
  font-family: 'Segoe UI', sans-serif;
  background: linear-gradient(135deg,#ece9e6,#ffffff);
  margin:0;
  padding:0;
  height:100vh;
  display:flex;
  flex-direction:column;
}

h1 { text-align:center; margin:10px 0; font-size:2rem; }

#header {
  padding:10px;
  display:flex;
  flex-wrap:wrap;
  gap:15px;
  justify-content:flex-start;
}

#winners {
  background:#e3f2fd;
  border-radius:10px;
  padding:10px;
  min-width:220px;
  max-width:280px;
  flex-shrink:0;
}
#winners p {
  display:flex;
  justify-content:space-between;
  margin:5px 0;
  font-weight:600;
}
#winners input {
  width:100px;
  text-align:right;
  border-radius:5px;
  border:1px solid #ccc;
  padding:3px 5px;
}

#currentSection {
  flex:1 1 200px;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:flex-start;
}

#current { font-size:2.5rem; font-weight:bold; color:#0077b6; text-align:center; margin-bottom:10px; }

#controls { display:flex; flex-wrap:wrap; gap:10px; justify-content:center; margin-bottom:10px; }

#boardContainer {
  flex:1 1 auto;
  overflow:auto;
  padding:10px;
}

#board {
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(50px,1fr));
  gap:6px;
  width:100%;
}

#board .cell {
  background:white;
  border-radius:8px;
  padding:12px;
  font-size:1.2rem;
  font-weight:500;
  text-align:center;
  box-shadow:0 2px 4px rgba(0,0,0,0.1);
  transition:0.3s;
}
#board .cell:hover { transform:scale(1.05); box-shadow:0 4px 10px rgba(0,0,0,0.15); }

.called {
  background:#2a9d8f !important;
  color:white;
  transform:scale(1.2);
  font-size:1.4rem;
  box-shadow:0 4px 10px rgba(0,0,0,0.2);
  transition:transform 0.3s, font-size 0.3s;
}

@media(max-width:576px){
  #winners input{width:80px;}
  #board .cell{font-size:1rem; padding:10px;}
}
</style>
</head>
<body>

<h1>Lets play Tambola ðŸŽ¯</h1>

<div id="header">
  <div id="winners">
    <p>First Row: <input type="text" id="firstRow" placeholder="Enter name"></p>
    <p>Second Row: <input type="text" id="secondRow" placeholder="Enter name"></p>
    <p>Third Row: <input type="text" id="thirdRow" placeholder="Enter name"></p>
    <p>Full House: <input type="text" id="fullHouse" placeholder="Enter name"></p>
  </div>

  <div id="currentSection">
    <div id="current">Press Start</div>
    <div id="controls">
      <button class="btn btn-primary" onclick="callNumber()">Next Number</button>
      <button class="btn btn-danger" onclick="resetGame()">Reset Game</button>
    </div>
  </div>
</div>

<div id="boardContainer">
  <div id="board"></div>
</div>

<script>
const numbers = Array.from({length:90},(_,i)=>i+1);
let called = JSON.parse(localStorage.getItem('calledNumbers')||'[]');

['firstRow','secondRow','thirdRow','fullHouse'].forEach(id=>{
  const input=document.getElementById(id);
  input.value=localStorage.getItem(id)||'';
  input.addEventListener('input',()=>localStorage.setItem(id,input.value));
});

function createBoard(){
  const board=document.getElementById('board');
  numbers.forEach(n=>{
    const cell=document.createElement('div');
    cell.className='cell';
    cell.id='num-'+n;
    cell.textContent=n;
    board.appendChild(cell);
  });
}

function applyMemory(){
  called.forEach(n=>{
    const el=document.getElementById('num-'+n);
    if(el) el.classList.add('called');
  });
  if(called.length>0) document.getElementById('current').textContent='Last: '+called[called.length-1];
}

function callNumber(){
  const remaining=numbers.filter(n=>!called.includes(n));
  if(remaining.length===0){
    document.getElementById('current').textContent='Game Finished! ðŸŽ‰';
    return;
  }
  const next=remaining[Math.floor(Math.random()*remaining.length)];
  called.push(next);
  localStorage.setItem('calledNumbers',JSON.stringify(called));
  document.getElementById('current').textContent='Number: '+next;
  document.getElementById('num-'+next).classList.add('called');
}

function resetGame(){
  called=[];
  localStorage.removeItem('calledNumbers');
  document.getElementById('current').textContent='Press Start';
  numbers.forEach(n=>{const el=document.getElementById('num-'+n); if(el) el.classList.remove('called');});
  ['firstRow','secondRow','thirdRow','fullHouse'].forEach(id=>{
    const input=document.getElementById(id);
    input.value=''; localStorage.removeItem(id);
  });
}

createBoard();
applyMemory();
</script>

</body>
</html>
